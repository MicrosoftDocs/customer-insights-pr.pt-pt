---
title: Integrar dados Web a partir de informações de cativação com informações da audiência
description: Traga informações Web sobre os clientes, desde informações de cativação até informações da audiência.
ms.date: 06/24/2021
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: mukeshpo
ms.author: mukeshpo
ms.reviewer: mhart
manager: shellyha
ms.openlocfilehash: 76a53a897e90152707a7c1255ed5ed93a5f3b5a0
ms.sourcegitcommit: d84d664e67f263bfeb741154d309088c5101b9c3
ms.translationtype: HT
ms.contentlocale: pt-PT
ms.lasthandoff: 06/24/2021
ms.locfileid: "6305032"
---
# <a name="integrate-web-data-from-engagement-insights-with-audience-insights"></a><span data-ttu-id="21ab1-103">Integrar dados Web a partir de informações de cativação com informações da audiência</span><span class="sxs-lookup"><span data-stu-id="21ab1-103">Integrate web data from engagement insights with audience insights</span></span>

<span data-ttu-id="21ab1-104">Frequentemente, os clientes fazem as suas transações diárias online usando sites.</span><span class="sxs-lookup"><span data-stu-id="21ab1-104">Customers often do their day-to-day transactions online using web sites.</span></span> <span data-ttu-id="21ab1-105">A capacidade de informações de cativação (pré-visualização) no Dynamics 365 Customer Insights é uma solução útil para integrar dados Web como uma origem.</span><span class="sxs-lookup"><span data-stu-id="21ab1-105">The engagement insights (preview) capability in Dynamics 365 Customer Insights is a handy solution to integrate web data as a source.</span></span> <span data-ttu-id="21ab1-106">Além de dados transacionais, demográficos ou comportamentais, podemos ver atividades na Web em perfis de clientes unificados.</span><span class="sxs-lookup"><span data-stu-id="21ab1-106">In addition to transactional, demographic, or behavioral data we can see activities on the web in unified customer profiles.</span></span> <span data-ttu-id="21ab1-107">Podemos utilizar estes perfis para obter informações adicionais como segmentos, medidas ou predições para a ativação da audiência.</span><span class="sxs-lookup"><span data-stu-id="21ab1-107">We can use these profiles to gain additional insights like segments, measures, or predictions for audience activation.</span></span>

<span data-ttu-id="21ab1-108">Este artigo descreve os passos para trazer os dados de atividade Web dos seus clientes a partir de informações de cativação para o seu ambiente existente de informações da audiência.</span><span class="sxs-lookup"><span data-stu-id="21ab1-108">This article describes the steps to bring your customers’ web activity data from engagement insights into your existing audience insights environment.</span></span>

<span data-ttu-id="21ab1-109">Neste exemplo, assumimos um ambiente que contém perfis de cliente unificados.</span><span class="sxs-lookup"><span data-stu-id="21ab1-109">In this example, we assume an environment that contains unified customer profiles.</span></span> <span data-ttu-id="21ab1-110">Os perfis foram unificados com origens de inquéritos, vendas a retalho e um sistema de emissão de permissões.</span><span class="sxs-lookup"><span data-stu-id="21ab1-110">The profiles were unified with sources from surveys, retail sales, and a ticketing system.</span></span> <span data-ttu-id="21ab1-111">Mostra também as atividades relacionadas dos clientes.</span><span class="sxs-lookup"><span data-stu-id="21ab1-111">It also shows the related activities of the customers.</span></span> 

<span data-ttu-id="21ab1-112">Queremos agora saber se um cliente visita as nossas propriedades Web e compreender as suas atividades.</span><span class="sxs-lookup"><span data-stu-id="21ab1-112">We now want to know if a customer visits our web properties and understand their activities.</span></span> <span data-ttu-id="21ab1-113">As atividades incluem, por exemplo, sites visitados ou páginas de produtos visualizadas a partir de uma ligação recebida num e-mail.</span><span class="sxs-lookup"><span data-stu-id="21ab1-113">Activities include, for example, visited websites or viewed product pages from a link received in an email.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="21ab1-114">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="21ab1-114">Prerequisites</span></span>

<span data-ttu-id="21ab1-115">Para integrar dados de informações de cativação, é necessário cumprir alguns pré-requisitos:</span><span class="sxs-lookup"><span data-stu-id="21ab1-115">To integrate data from engagement insights, a few prerequisites need to be met:</span></span> 

- <span data-ttu-id="21ab1-116">Integre o SDK de informações de cativação com o seu site.</span><span class="sxs-lookup"><span data-stu-id="21ab1-116">Integrate the engagement insights SDK with your website.</span></span> <span data-ttu-id="21ab1-117">Para mais informações, consulte [Descrição geral para programadores](../engagement-insights/developer-resources.md).</span><span class="sxs-lookup"><span data-stu-id="21ab1-117">For more information, see [Developer resources overview](../engagement-insights/developer-resources.md).</span></span>
- <span data-ttu-id="21ab1-118">Exportar eventos Web a partir de informações de cativação requer acesso a uma conta Azure Data Lake Storage que será usada para ingerir os dados de eventos Web para informações de audiência.</span><span class="sxs-lookup"><span data-stu-id="21ab1-118">Exporting web events from engagement insights requires access to an Azure Data Lake Storage account that will be used to ingest the web events data to audience insights.</span></span> <span data-ttu-id="21ab1-119">Para obter mais informações, consulte [Exportar eventos](../engagement-insights/export-events.md).</span><span class="sxs-lookup"><span data-stu-id="21ab1-119">For more information, see [Export events](../engagement-insights/export-events.md).</span></span>

## <a name="configure-refined-events-in-engagement-insights"></a><span data-ttu-id="21ab1-120">Configure eventos refinados em informações de cativação</span><span class="sxs-lookup"><span data-stu-id="21ab1-120">Configure refined events in engagement insights</span></span>

<span data-ttu-id="21ab1-121">Após um administrador instrumentar um site com a SDK de informações de cativação, os *eventos base* são recolhidos quando um utilizador visualiza uma página Web ou clica em algum lugar.</span><span class="sxs-lookup"><span data-stu-id="21ab1-121">After an administrator instruments a website with the engagement insights SDK, *base events* are gathered when a user views a webpage or clicks somewhere.</span></span> <span data-ttu-id="21ab1-122">Os eventos base tendem a conter inúmeros detalhes.</span><span class="sxs-lookup"><span data-stu-id="21ab1-122">Base events tend to contain numerous details.</span></span> <span data-ttu-id="21ab1-123">Dependendo do seu caso de utilização, só precisa de um subconjunto dos dados num evento base.</span><span class="sxs-lookup"><span data-stu-id="21ab1-123">Depending on your use case, you only need a subset of the data in a base event.</span></span> <span data-ttu-id="21ab1-124">As informações de cativação permitem criar *eventos refinados* que contenham apenas as propriedades de um evento base que seleciona.</span><span class="sxs-lookup"><span data-stu-id="21ab1-124">Engagement insights let you create *refined events* that contain only the properties of a base event that you select.</span></span>     

<span data-ttu-id="21ab1-125">Para obter mais informações, consulte [Criar e modificar eventos refinados](../engagement-insights/refined-events.md).</span><span class="sxs-lookup"><span data-stu-id="21ab1-125">For more information, see [Create and modify refined events](../engagement-insights/refined-events.md).</span></span>

<span data-ttu-id="21ab1-126">Considerações ao criar eventos refinados:</span><span class="sxs-lookup"><span data-stu-id="21ab1-126">Considerations when creating refined events:</span></span> 

- <span data-ttu-id="21ab1-127">Forneça um nome significativo para o evento refinado.</span><span class="sxs-lookup"><span data-stu-id="21ab1-127">Provide a meaningful name for the refined event.</span></span> <span data-ttu-id="21ab1-128">Será utilizado como um nome de atividade em informações de audiência.</span><span class="sxs-lookup"><span data-stu-id="21ab1-128">It will be used as an activity name in audience insights.</span></span>
- <span data-ttu-id="21ab1-129">Selecione, pelo menos, as seguintes propriedades para criar uma atividade nas informações da audiência:</span><span class="sxs-lookup"><span data-stu-id="21ab1-129">Select at least the following properties to create an activity in audience insights:</span></span> 
    - <span data-ttu-id="21ab1-130">Signal.Action.Name – indica os detalhes da atividade.</span><span class="sxs-lookup"><span data-stu-id="21ab1-130">Signal.Action.Name – indicates the activity details.</span></span>
    - <span data-ttu-id="21ab1-131">Signal.User.Id – utilizado para mapear com o ID do cliente.</span><span class="sxs-lookup"><span data-stu-id="21ab1-131">Signal.User.Id – used to map with the customer ID.</span></span>
    - <span data-ttu-id="21ab1-132">Signal.View.Uri – utilizado como endereço Web como base para segmentos ou medidas.</span><span class="sxs-lookup"><span data-stu-id="21ab1-132">Signal.View.Uri – used as a web address as a basis for segments or measures.</span></span>
    - <span data-ttu-id="21ab1-133">Signal.Export.Id – utilizado como chave primária para eventos.</span><span class="sxs-lookup"><span data-stu-id="21ab1-133">Signal.Export.Id – used as a primary key for events.</span></span>
    - <span data-ttu-id="21ab1-134">Signal.Timestamp – determina a data e hora para a atividade.</span><span class="sxs-lookup"><span data-stu-id="21ab1-134">Signal.Timestamp – determines the date and time for the activity.</span></span>

<span data-ttu-id="21ab1-135">Selecione os filtros para se focar nos eventos e páginas que importam para o seu caso de utilização.</span><span class="sxs-lookup"><span data-stu-id="21ab1-135">Select the filters to focus on the events and pages that matter for your use case.</span></span> <span data-ttu-id="21ab1-136">Neste exemplo, utilizaremos o nome de ação "Promoção por e-mail".</span><span class="sxs-lookup"><span data-stu-id="21ab1-136">In this example, we'll use the "Email promotion" action name.</span></span>

## <a name="export-the-refined-web-events"></a><span data-ttu-id="21ab1-137">Exportar os eventos Web refinados</span><span class="sxs-lookup"><span data-stu-id="21ab1-137">Export the refined web events</span></span> 

<span data-ttu-id="21ab1-138">Depois de definir o evento refinado, tem de configurar a exportação dos dados do evento para o Azure Data Lake Storage, o qual pode ser definido como uma origem de dados para ingestão em informações de audiência.</span><span class="sxs-lookup"><span data-stu-id="21ab1-138">After defining the refined event, you have to configure the export of the event data to Azure Data Lake Storage, which can be set as a data source for ingestion in audience insights.</span></span> <span data-ttu-id="21ab1-139">As exportações acontecem constantemente à medida que os eventos fluem da propriedade Web.</span><span class="sxs-lookup"><span data-stu-id="21ab1-139">Exports happen constantly as the events flow from the web property.</span></span>

<span data-ttu-id="21ab1-140">Para obter mais informações, consulte [Exportar eventos](../engagement-insights/export-events.md).</span><span class="sxs-lookup"><span data-stu-id="21ab1-140">For more information, see [Export events](../engagement-insights/export-events.md).</span></span>

## <a name="ingest-event-data-to-audience-insights"></a><span data-ttu-id="21ab1-141">Ingerir dados de eventos para informações da audiência</span><span class="sxs-lookup"><span data-stu-id="21ab1-141">Ingest event data to audience insights</span></span>

<span data-ttu-id="21ab1-142">Agora que definiu o evento refinado e configurou a sua exportação, passamos a ingerir os dados para as informações da audiência.</span><span class="sxs-lookup"><span data-stu-id="21ab1-142">Now that you have defined the refined event and configured its export, we move on to ingesting the data to audience insights.</span></span> <span data-ttu-id="21ab1-143">É necessário criar uma nova origem de dados baseada numa pasta Common Data Model.</span><span class="sxs-lookup"><span data-stu-id="21ab1-143">You need to create a new data source based on a Common Data Model folder.</span></span> <span data-ttu-id="21ab1-144">Insira os detalhes da conta de armazenamento para onde exporta os eventos.</span><span class="sxs-lookup"><span data-stu-id="21ab1-144">Enter the details for the storage account you export the events to.</span></span> <span data-ttu-id="21ab1-145">No ficheiro *default.cdm.json*, selecione o evento refinado a ingerir e crie a entidade nas informações da audiência.</span><span class="sxs-lookup"><span data-stu-id="21ab1-145">In the *default.cdm.json* file, select the refined event to ingest and create the entity in audience insights.</span></span>

<span data-ttu-id="21ab1-146">Para obter mais informações, consulte [Ligar a uma pasta Common Data Model utilizando uma conta Azure Data Lake](connect-common-data-model.md).</span><span class="sxs-lookup"><span data-stu-id="21ab1-146">For more information, see [Connect to a Common Data Model folder using an Azure Data Lake account](connect-common-data-model.md).</span></span>


## <a name="relate-refined-event-data-as-an-activity-of-a-customer-profile"></a><span data-ttu-id="21ab1-147">Relacionar dados de eventos refinados como uma atividade de um perfil do cliente</span><span class="sxs-lookup"><span data-stu-id="21ab1-147">Relate refined event data as an activity of a customer profile</span></span>

<span data-ttu-id="21ab1-148">Após completar a ingestão de entidades, pode configurar a atividade para o perfil do cliente.</span><span class="sxs-lookup"><span data-stu-id="21ab1-148">After completing the entity ingestion, you can configure the activity for the customer profile.</span></span>

<span data-ttu-id="21ab1-149">Para mais informações, veja [Atividades de cliente](activities.md).</span><span class="sxs-lookup"><span data-stu-id="21ab1-149">For more information, see [Customer activities](activities.md).</span></span>

:::image type="content" source="media/web-event-activity.png" alt-text="Página de atividades com o painel Editar atividade expandido e com os campos preenchidos.":::

<span data-ttu-id="21ab1-151">Configure a nova atividade com o seguinte mapeamento:</span><span class="sxs-lookup"><span data-stu-id="21ab1-151">Configure the new activity with the following mapping:</span></span> 

- <span data-ttu-id="21ab1-152">**Chave Primária**: Signal.Export.Id, um ID exclusivo que está disponível para cada registo de evento nas informações de cativação.</span><span class="sxs-lookup"><span data-stu-id="21ab1-152">**Primary Key**: Signal.Export.Id, a unique ID that is available for every event record in engagement insights.</span></span> <span data-ttu-id="21ab1-153">Esta propriedade é gerada automaticamente.</span><span class="sxs-lookup"><span data-stu-id="21ab1-153">This property is automatically generated.</span></span>

- <span data-ttu-id="21ab1-154">**Carimbo de data/hora**: Signal.Timestamp na propriedade do evento.</span><span class="sxs-lookup"><span data-stu-id="21ab1-154">**Timestamp**: Signal.Timestamp in the event property.</span></span>

- <span data-ttu-id="21ab1-155">**Evento**: Signal.Name, o nome do evento que pretende monitorizar.</span><span class="sxs-lookup"><span data-stu-id="21ab1-155">**Event**: Signal.Name, the event name that you want to track.</span></span>

- <span data-ttu-id="21ab1-156">**Endereço Web**: Signal.View.Uri referindo-se ao URI da página que criou o evento.</span><span class="sxs-lookup"><span data-stu-id="21ab1-156">**Web address**: Signal.View.Uri referring to the URI of the page that created the event.</span></span>

- <span data-ttu-id="21ab1-157">**Detalhes**: Signal.Action.Name para representar as informações a associar ao evento.</span><span class="sxs-lookup"><span data-stu-id="21ab1-157">**Details**: Signal.Action.Name to represent the information to associate with the event.</span></span> <span data-ttu-id="21ab1-158">A propriedade selecionada neste caso indica que o evento é para promoção por e-mail.</span><span class="sxs-lookup"><span data-stu-id="21ab1-158">The selected property in this case indicates that the event is for email promotion.</span></span>

- <span data-ttu-id="21ab1-159">**Tipo de atividade**: neste exemplo, escolhemos o WebLog do tipo de atividade existente.</span><span class="sxs-lookup"><span data-stu-id="21ab1-159">**Activity type**: In this example, we choose the existing activity type WebLog.</span></span> <span data-ttu-id="21ab1-160">Esta seleção é uma opção de filtro útil para executar modelos de predição ou criar segmentos com base neste tipo de atividade.</span><span class="sxs-lookup"><span data-stu-id="21ab1-160">This selection is a useful filter option to run prediction models or create segments based on this activity type.</span></span>

- <span data-ttu-id="21ab1-161">**Configurar relação**: esta definição importante liga a atividade aos perfis de clientes existentes.</span><span class="sxs-lookup"><span data-stu-id="21ab1-161">**Set up relationship**: This important setting ties the activity to existing customer profiles.</span></span> <span data-ttu-id="21ab1-162">**Signal.User.Id** é o identificador configurado no SDK a ser recolhido e que se relaciona com o ID do utilizador noutras origens de dados que estão configuradas nas informações da audiência.</span><span class="sxs-lookup"><span data-stu-id="21ab1-162">**Signal.User.Id** is the identifier configured in the SDK to be collected and that relates to the user ID in other data sources that are configured in audience insights.</span></span> <span data-ttu-id="21ab1-163">Neste exemplo, configuramos a relação entre Signal.User.Id e RetailCustomers:CustomerRetailId, que é a chave primária que foi identificada no passo do mapa do processo de unificação de dados.</span><span class="sxs-lookup"><span data-stu-id="21ab1-163">In this example, we configure the relationship between Signal.User.Id and RetailCustomers:CustomerRetailId, which is the primary key that was identified in the map step of the data unification process.</span></span>

<span data-ttu-id="21ab1-164">Após o processamento das atividades, pode rever os registos do cliente e abrir um cartão de cliente para ver as atividades das informações de cativação na linha cronológica.</span><span class="sxs-lookup"><span data-stu-id="21ab1-164">After processing the activities, you can review customer records and open a customer card to see activities from engagement insights in the timeline.</span></span> 

> [!TIP]
> <span data-ttu-id="21ab1-165">Para encontrar um ID de cliente que tenha uma atividade de informações de cativação, vá a **Entidades** e pré-visualize os dados para a entidade UnifiedActivity.</span><span class="sxs-lookup"><span data-stu-id="21ab1-165">To find a customer ID that has an engagement insights activity, go to **Entities** and preview the data for the UnifiedActivity entity.</span></span> <span data-ttu-id="21ab1-166">ActivityTypeDisplay = WebLog contém a atividade de informações de cativação configurada no exemplo acima.</span><span class="sxs-lookup"><span data-stu-id="21ab1-166">ActivityTypeDisplay = WebLog contains the engagement insights activity configured in the example above.</span></span> <span data-ttu-id="21ab1-167">Copie o ID de cliente para um desses registos e para esse ID na página **Clientes**.</span><span class="sxs-lookup"><span data-stu-id="21ab1-167">Copy the customer ID for one of those records and for that ID on the **Customers** page.</span></span>

## <a name="next-steps"></a><span data-ttu-id="21ab1-168">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="21ab1-168">Next steps</span></span>

<span data-ttu-id="21ab1-169">Pode agora criar [segmentos](segments.md), [medidas](measures.md) e [predições](predictions.md) para fazer uma ligação significativa com os seus clientes.</span><span class="sxs-lookup"><span data-stu-id="21ab1-169">You can now create [segments](segments.md), [measures](measures.md), and [predictions](predictions.md) to make a meaningful connection with your customers.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
